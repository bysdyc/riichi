# 老手模式测试清单 ⚡

## 测试目标
验证老手模式下**不需要用户选择手牌**,只需要输入番数和符数即可完成点数计算。

---

## ✅ 测试项目

### 1. UI显示测试

#### 1.1 自动分析模式 (默认)
- [ ] 显示"手牌输入区域" (13/13)
- [ ] 显示"万子/饼子/索子/字牌"选择按钮
- [ ] 显示"和牌选择区域" (1/1)
- [ ] 显示"状况役"按钮组 (门清、立直等)
- [ ] 显示"宝牌"计数器
- [ ] 不显示"役种选择列表"
- [ ] 不显示"老手模式输入"

#### 1.2 手动选择模式
- [ ] **隐藏"手牌输入区域"** ✅
- [ ] **隐藏"万子/饼子/索子/字牌"选择按钮** ✅
- [ ] **隐藏"和牌选择区域"** ✅
- [ ] **隐藏"状况役"按钮组** ✅
- [ ] 显示"役种选择列表" (按类别分组)
- [ ] 显示"符数设置"按钮
- [ ] 显示"宝牌"计数器
- [ ] 不显示"老手模式输入"

#### 1.3 老手模式 ⚡ (新功能)
- [ ] **隐藏"手牌输入区域"** ⭐ 关键测试
- [ ] **隐藏"万子/饼子/索子/字牌"选择按钮** ⭐ 关键测试
- [ ] **隐藏"和牌选择区域"** ⭐ 关键测试
- [ ] **隐藏"状况役"按钮组** ⭐ 关键测试
- [ ] 显示"番数输入" (1-13快捷按钮 + 自定义输入)
- [ ] 显示"符数输入" (20-110快捷按钮 + 自定义输入)
- [ ] 显示"宝牌"计数器
- [ ] 显示当前设置提示 (X番 X符)
- [ ] 显示等级提示 (满贯/跳满/倍满等)
- [ ] 不显示"役种选择列表"

---

### 2. 模式切换测试

#### 2.1 从自动分析 → 老手模式
- [ ] 点击"⚡ 老手模式"按钮
- [ ] 手牌输入区域消失
- [ ] 选牌按钮消失
- [ ] 状况役按钮消失
- [ ] 出现番数/符数输入区域
- [ ] 保留宝牌设置
- [ ] 保留和牌者/放铳者选择
- [ ] 保留立直玩家信息

#### 2.2 从手动选择 → 老手模式
- [ ] 点击"⚡ 老手模式"按钮
- [ ] 役种选择列表消失
- [ ] 符数按钮消失
- [ ] 出现番数/符数输入区域
- [ ] 保留宝牌设置
- [ ] expertHan 初始化为 1
- [ ] expertFu 初始化为 30

#### 2.3 从老手模式 → 自动分析
- [ ] 点击"🤖 自动分析"按钮
- [ ] 番数/符数输入区域消失
- [ ] 出现手牌输入区域
- [ ] 出现选牌按钮
- [ ] 出现状况役按钮
- [ ] expertHan/expertFu 被重置

#### 2.4 从老手模式 → 手动选择
- [ ] 点击"✋ 手动选择"按钮
- [ ] 番数/符数输入区域消失
- [ ] 出现役种选择列表
- [ ] 出现符数设置按钮
- [ ] expertHan/expertFu 被重置

---

### 3. 功能逻辑测试

#### 3.1 番数设置
- [ ] 点击 1 番按钮 → expertHan = 1
- [ ] 点击 13 番按钮 → expertHan = 13
- [ ] 输入自定义番数 5 → expertHan = 5
- [ ] 输入自定义番数 99 → expertHan = 99
- [ ] 输入无效值(0, -1, 100) → 不更新
- [ ] 选中的按钮高亮显示(橙色背景)

#### 3.2 符数设置
- [ ] 点击 20 符按钮 → expertFu = 20
- [ ] 点击 110 符按钮 → expertFu = 110
- [ ] 输入自定义符数 70 → expertFu = 70
- [ ] 输入无效值(10, 150) → 不更新
- [ ] 选中的按钮高亮显示(橙色背景)

#### 3.3 宝牌计算
- [ ] 设置 dora = 2
- [ ] 设置 uraDora = 1 (需要有玩家立直)
- [ ] 设置 redDora = 1
- [ ] 总番数 = expertHan + dora + uraDora + redDora

#### 3.4 点数计算
**测试用例 1: 1番 30符 自摸**
- [ ] expertHan = 1, expertFu = 30
- [ ] 无宝牌
- [ ] 子家自摸: 300/500点

**测试用例 2: 5番 40符 荣和**
- [ ] expertHan = 5, expertFu = 40
- [ ] 无宝牌
- [ ] 子家荣和: 8000点 (满贯)

**测试用例 3: 3番 + 2宝牌 = 5番满贯**
- [ ] expertHan = 3, expertFu = 40
- [ ] dora = 2
- [ ] 总番数 = 5
- [ ] 子家荣和: 8000点 (满贯)

**测试用例 4: 13番役满**
- [ ] expertHan = 13, expertFu = 任意
- [ ] 庄家自摸: 16000点 × 3
- [ ] 子家自摸: 8000/16000点

---

### 4. 边界条件测试

#### 4.1 必填项验证
- [ ] 未选择和牌者 → 提示"请选择和牌者"
- [ ] expertHan = 0 → 提示"番数不能为0"
- [ ] 点炮未选择放铳者 → 提示"请选择放铳者"

#### 4.2 极端值测试
- [ ] expertHan = 1, expertFu = 20 (最小)
- [ ] expertHan = 99, expertFu = 110 (最大)
- [ ] expertHan = 13 (役满, 符数无关)
- [ ] expertHan = 50 + dora = 5 (超大番数)

#### 4.3 等级提示测试
- [ ] 1-4 番 → 无提示
- [ ] 5 番 → "满贯"
- [ ] 6-7 番 → "跳满"
- [ ] 8-10 番 → "倍满"
- [ ] 11-12 番 → "三倍满"
- [ ] 13+ 番 → "役满"

---

### 5. 数据持久化测试

#### 5.1 记录保存
- [ ] 老手模式记录 → 历史记录中显示
- [ ] 显示 "X番(手动输入)" 标记
- [ ] 点数正确计算
- [ ] 和牌者/放铳者信息正确
- [ ] 宝牌信息正确

#### 5.2 重置测试
- [ ] 点击"取消"按钮 → expertHan = 1, expertFu = 30, isExpertMode = false
- [ ] 确认后 → 所有状态重置
- [ ] 新一轮可以重新选择模式

---

### 6. 用户体验测试

#### 6.1 操作流程
1. [ ] 选择和牌类型 (自摸/点炮)
2. [ ] 选择和牌者
3. [ ] 点击"⚡ 老手模式"
4. [ ] 点击"3番"按钮
5. [ ] 点击"40符"按钮
6. [ ] 设置宝牌 (可选)
7. [ ] 点击"确认胡牌"
8. [ ] 点数计算正确,记录保存

**预期时间**: < 10秒 (比自动分析快 5-10 倍)

#### 6.2 视觉反馈
- [ ] 老手模式按钮橙色高亮
- [ ] 选中的番数按钮橙色高亮
- [ ] 选中的符数按钮橙色高亮
- [ ] 橙色背景区域清晰可见
- [ ] 提示文字准确友好

#### 6.3 错误提示
- [ ] 未选择和牌者 → 红色提示
- [ ] 番数为0 → 红色提示
- [ ] 提示信息清晰易懂

---

## 🎯 关键验证点

### ⭐ 最重要的测试 (必须通过)
1. **老手模式下完全不显示手牌输入区域**
2. **老手模式下完全不显示选牌按钮(万/饼/索/字)**
3. **老手模式下完全不显示状况役按钮**
4. **老手模式下只需输入番数+符数即可完成记录**

### ✅ 成功标准
- 所有 UI 显示测试通过
- 所有功能逻辑测试通过
- 记录速度明显快于自动分析模式
- 用户体验流畅,无需多余操作

---

## 📋 测试结果记录

**测试日期**: _____________

**测试人员**: _____________

**通过项目**: ____ / 总项目数

**失败项目**: 
- [ ] 项目1: _______________
- [ ] 项目2: _______________

**备注**: 
_______________________________________________
_______________________________________________
_______________________________________________

---

## 🐛 已知问题

**问题1**: 
- 描述: _______________
- 严重程度: [ ] 严重 [ ] 一般 [ ] 轻微
- 状态: [ ] 待修复 [ ] 已修复

**问题2**: 
- 描述: _______________
- 严重程度: [ ] 严重 [ ] 一般 [ ] 轻微
- 状态: [ ] 待修复 [ ] 已修复

---

## ✨ 测试结论

- [ ] **老手模式功能完整,可以发布**
- [ ] 需要修复问题后重新测试
- [ ] 需要优化但不影响基本功能

**签字**: _____________ **日期**: _____________
