<!-- components/tile-selector/tile-selector.wxml -->
<view class="tile-selector">
  <view class="selector-header">
    <text class="header-title">{{title}}</text>
    <text class="tile-count">{{selectedCount}}/{{maxTiles}}张</text>
  </view>

  <!-- 万子 -->
  <view class="tile-section">
    <text class="section-title">万子</text>
    <view class="tile-grid">
      <view 
        wx:for="{{manTiles}}" 
        wx:key="*this"
        class="tile-item {{isTileSelected(item) ? 'selected' : ''}}"
        bindtap="selectTile"
        data-tile="{{item}}"
      >
        <text class="tile-text">{{getTileDisplay(item)}}</text>
        <text wx:if="{{getTileCount(item) > 0}}" class="tile-badge">{{getTileCount(item)}}</text>
      </view>
    </view>
  </view>

  <!-- 筒子 -->
  <view class="tile-section">
    <text class="section-title">筒子</text>
    <view class="tile-grid">
      <view 
        wx:for="{{pinTiles}}" 
        wx:key="*this"
        class="tile-item {{isTileSelected(item) ? 'selected' : ''}}"
        bindtap="selectTile"
        data-tile="{{item}}"
      >
        <text class="tile-text">{{getTileDisplay(item)}}</text>
        <text wx:if="{{getTileCount(item) > 0}}" class="tile-badge">{{getTileCount(item)}}</text>
      </view>
    </view>
  </view>

  <!-- 索子 -->
  <view class="tile-section">
    <text class="section-title">索子</text>
    <view class="tile-grid">
      <view 
        wx:for="{{souTiles}}" 
        wx:key="*this"
        class="tile-item {{isTileSelected(item) ? 'selected' : ''}}"
        bindtap="selectTile"
        data-tile="{{item}}"
      >
        <text class="tile-text">{{getTileDisplay(item)}}</text>
        <text wx:if="{{getTileCount(item) > 0}}" class="tile-badge">{{getTileCount(item)}}</text>
      </view>
    </view>
  </view>

  <!-- 字牌 -->
  <view class="tile-section">
    <text class="section-title">字牌</text>
    <view class="tile-grid">
      <view 
        wx:for="{{honorTiles}}" 
        wx:key="*this"
        class="tile-item {{isTileSelected(item) ? 'selected' : ''}}"
        bindtap="selectTile"
        data-tile="{{item}}"
      >
        <text class="tile-text">{{getTileDisplay(item)}}</text>
        <text wx:if="{{getTileCount(item) > 0}}" class="tile-badge">{{getTileCount(item)}}</text>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="selector-actions">
    <button class="btn-action btn-clear" size="mini" bindtap="clearAll">清空</button>
    <button class="btn-action btn-confirm" size="mini" bindtap="confirmSelection">确定</button>
  </view>
</view>
