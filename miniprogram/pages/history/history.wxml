<!-- pages/history/history.wxml -->
<view class="container">
  <view class="header">
    <text class="title">å†å²è®°å½•</text>
  </view>

  <view wx:if="{{roundHistory.length === 0}}" class="empty-state">
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— å†å²è®°å½•</text>
  </view>

  <view wx:else class="history-list">
    <view wx:for="{{roundHistory}}" wx:key="index" class="history-item">
      <view class="item-header">
        <text class="round-info">{{item.windText}}{{item.round}}å±€ {{item.honba}}æœ¬åœº</text>
        <text class="item-type {{item.type}}">{{item.typeText}}</text>
      </view>
      
      <view wx:if="{{item.type === 'win'}}" class="item-content">
        <view class="info-row">
          <text class="label">å’Œç‰Œè€…ï¼š</text>
          <text class="value">{{item.winner}}</text>
        </view>
        <view class="info-row">
          <text class="label">{{item.loser === 'è‡ªæ‘¸' ? 'æ–¹å¼ï¼š' : 'æ”¾é“³è€…ï¼š'}}</text>
          <text class="value">{{item.loser}}</text>
        </view>
        <view class="info-row">
          <text class="label">ç‚¹æ•°ï¼š</text>
          <text class="value highlight">{{item.han}}ç•ª{{item.fu}}ç¬¦ï¼ˆ{{item.payment}}ç‚¹ï¼‰</text>
        </view>
      </view>

      <view wx:if="{{item.type === 'draw'}}" class="item-content">
        <view class="info-row">
          <text class="label">å¬ç‰Œï¼š</text>
          <text class="value">{{item.tenpai}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
